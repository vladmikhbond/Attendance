@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-left">

    <form id="form1" asp-page="Index" method="post" enctype="multipart/form-data">
        <input asp-for="UploadedFile" accept="text/html"/>
    </form>
    <hr/>
@if (Model.CheckedStaff != null && Model.CheckedStaff.Length > 0) {

    <form asp-page="Index" asp-page-handler="Save" method="post">
        <input asp-for="MeetComment" placeholder="your comment"/>
        <input type="submit" value="Save" title="Сохранить в базе данных"/>
    </form>

    <table>
        @foreach (var group in Model.CheckedStaff.GroupBy(s => s.Group))
        {
            <tr>
                <td style="font-weight:800">@group.Key (@group.Count(x => x.IsPresent) из @group.Count() )</td>
            </tr>
            @foreach (var stud in group)
            {
                var color = stud.IsPresent ? "black" : "red";
                <tr>
                    <td style="text-align:left; color:@color">@stud.Surname @stud.Name</td>
                </tr>
            }
        }
    </table>
} 
else
{
<pre>
На странице встречи надо выбрать вкладку "Участники".

Встречу надо сохранить как "Вся страница полностью".

Сохраненный файл .html следует загрузить перетаскиванием или кнопкой "Выбрать файл".
</pre>
}
</div>

@section Scripts {
   <script>
       // 
       document.querySelector("#UploadedFile").addEventListener('change', function (e) {
           document.querySelector("#form1").submit();
       });

   </script>
}